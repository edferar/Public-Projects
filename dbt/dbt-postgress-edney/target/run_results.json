{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.8.3", "generated_at": "2024-07-11T22:48:38.130795Z", "invocation_id": "b66ff330-3676-48a4-b9c0-bd2a75792a52", "env": {}}, "results": [{"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.026380Z", "completed_at": "2024-07-11T22:48:38.030417Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.030417Z", "completed_at": "2024-07-11T22:48:38.030417Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.004036903381347656, "adapter_response": {}, "message": null, "failures": null, "unique_id": "seed.my_first_postgres_dbt.raw_customers", "compiled": null, "compiled_code": null, "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.032438Z", "completed_at": "2024-07-11T22:48:38.033425Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.033425Z", "completed_at": "2024-07-11T22:48:38.033425Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0020227432250976562, "adapter_response": {}, "message": null, "failures": null, "unique_id": "seed.my_first_postgres_dbt.raw_orders", "compiled": null, "compiled_code": null, "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.034444Z", "completed_at": "2024-07-11T22:48:38.035441Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.035441Z", "completed_at": "2024-07-11T22:48:38.035441Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.000997304916381836, "adapter_response": {}, "message": null, "failures": null, "unique_id": "seed.my_first_postgres_dbt.raw_payments", "compiled": null, "compiled_code": null, "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.037128Z", "completed_at": "2024-07-11T22:48:38.039259Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.040153Z", "completed_at": "2024-07-11T22:48:38.040153Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.003025531768798828, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_first_postgres_dbt.stg_customers", "compiled": true, "compiled_code": "with source as (\n\n    select * from \"postgres\".\"public\".\"raw_customers\"\n\n),\n\nrenamed as (\n\n    select\n        id as customer_id,\n        first_name,\n        last_name\n\n    from source\n\n)\n\nselect * from renamed", "relation_name": "\"postgres\".\"public\".\"stg_customers\""}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.041187Z", "completed_at": "2024-07-11T22:48:38.043265Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.044170Z", "completed_at": "2024-07-11T22:48:38.044170Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0040166378021240234, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_first_postgres_dbt.stg_orders", "compiled": true, "compiled_code": "with source as (\n\n    select * from \"postgres\".\"public\".\"raw_orders\"\n\n),\n\nrenamed as (\n\n    select\n        id as order_id,\n        user_id as customer_id,\n        order_date,\n        status\n\n    from source\n\n)\n\nselect * from renamed", "relation_name": "\"postgres\".\"public\".\"stg_orders\""}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.046169Z", "completed_at": "2024-07-11T22:48:38.048214Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.048214Z", "completed_at": "2024-07-11T22:48:38.048214Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0040438175201416016, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_first_postgres_dbt.stg_payments", "compiled": true, "compiled_code": "with source as (\n    \n    \n    select * from \"postgres\".\"public\".\"raw_payments\"\n\n),\n\nrenamed as (\n\n    select\n        id as payment_id,\n        order_id,\n        payment_method,\n\n        -- `amount` is currently stored in cents, so we convert it to dollars\n        amount / 100 as amount\n\n    from source\n\n)\n\nselect * from renamed", "relation_name": "\"postgres\".\"public\".\"stg_payments\""}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.050267Z", "completed_at": "2024-07-11T22:48:38.053138Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.054137Z", "completed_at": "2024-07-11T22:48:38.054137Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.004960060119628906, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_first_postgres_dbt.customers", "compiled": true, "compiled_code": "with customers as (\n\n    select * from \"postgres\".\"public\".\"stg_customers\"\n\n),\n\norders as (\n\n    select * from \"postgres\".\"public\".\"stg_orders\"\n\n),\n\npayments as (\n\n    select * from \"postgres\".\"public\".\"stg_payments\"\n\n),\n\ncustomer_orders as (\n\n        select\n        customer_id,\n\n        min(order_date) as first_order,\n        max(order_date) as most_recent_order,\n        count(order_id) as number_of_orders\n    from orders\n\n    group by customer_id\n\n),\n\ncustomer_payments as (\n\n    select\n        orders.customer_id,\n        sum(amount) as total_amount\n\n    from payments\n\n    left join orders on\n         payments.order_id = orders.order_id\n\n    group by orders.customer_id\n\n),\n\nfinal as (\n\n    select\n        customers.customer_id,\n        customers.first_name,\n        customers.last_name,\n        customer_orders.first_order,\n        customer_orders.most_recent_order,\n        customer_orders.number_of_orders,\n        customer_payments.total_amount as customer_lifetime_value\n\n    from customers\n\n    left join customer_orders\n        on customers.customer_id = customer_orders.customer_id\n\n    left join customer_payments\n        on  customers.customer_id = customer_payments.customer_id\n\n)\n\nselect * from final", "relation_name": "\"postgres\".\"public\".\"customers\""}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.057138Z", "completed_at": "2024-07-11T22:48:38.060153Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.060153Z", "completed_at": "2024-07-11T22:48:38.060153Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.004014730453491211, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_first_postgres_dbt.orders", "compiled": true, "compiled_code": "\n\nwith orders as (\n\n    select * from \"postgres\".\"public\".\"stg_orders\"\n\n),\n\npayments as (\n\n    select * from \"postgres\".\"public\".\"stg_payments\"\n\n),\n\norder_payments as (\n\n    select\n        order_id,\n\n        sum(case when payment_method = 'credit_card' then amount else 0 end) as credit_card_amount,\n        sum(case when payment_method = 'coupon' then amount else 0 end) as coupon_amount,\n        sum(case when payment_method = 'bank_transfer' then amount else 0 end) as bank_transfer_amount,\n        sum(case when payment_method = 'gift_card' then amount else 0 end) as gift_card_amount,\n        sum(amount) as total_amount\n\n    from payments\n\n    group by order_id\n\n),\n\nfinal as (\n\n    select\n        orders.order_id,\n        orders.customer_id,\n        orders.order_date,\n        orders.status,\n\n        order_payments.credit_card_amount,\n\n        order_payments.coupon_amount,\n\n        order_payments.bank_transfer_amount,\n\n        order_payments.gift_card_amount,\n\n        order_payments.total_amount as amount\n\n    from orders\n\n\n    left join order_payments\n        on orders.order_id = order_payments.order_id\n\n)\n\nselect * from final", "relation_name": "\"postgres\".\"public\".\"orders\""}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.062172Z", "completed_at": "2024-07-11T22:48:38.070750Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.070750Z", "completed_at": "2024-07-11T22:48:38.070750Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.010610580444335938, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_customers_customer_id.5c9bf9911d", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect customer_id\nfrom \"postgres\".\"public\".\"customers\"\nwhere customer_id is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.073784Z", "completed_at": "2024-07-11T22:48:38.079872Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.079872Z", "completed_at": "2024-07-11T22:48:38.079872Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.007122516632080078, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.unique_customers_customer_id.c5af1ff4b1", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    customer_id as unique_field,\n    count(*) as n_records\n\nfrom \"postgres\".\"public\".\"customers\"\nwhere customer_id is not null\ngroup by customer_id\nhaving count(*) > 1\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.081808Z", "completed_at": "2024-07-11T22:48:38.085817Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.085817Z", "completed_at": "2024-07-11T22:48:38.085817Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0040090084075927734, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_amount.106140f9fd", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect amount\nfrom \"postgres\".\"public\".\"orders\"\nwhere amount is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.087794Z", "completed_at": "2024-07-11T22:48:38.090874Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.091787Z", "completed_at": "2024-07-11T22:48:38.091787Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.004987478256225586, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_bank_transfer_amount.7743500c49", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect bank_transfer_amount\nfrom \"postgres\".\"public\".\"orders\"\nwhere bank_transfer_amount is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.092790Z", "completed_at": "2024-07-11T22:48:38.095868Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.096804Z", "completed_at": "2024-07-11T22:48:38.096804Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.005016803741455078, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_coupon_amount.ab90c90625", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect coupon_amount\nfrom \"postgres\".\"public\".\"orders\"\nwhere coupon_amount is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.097779Z", "completed_at": "2024-07-11T22:48:38.100867Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.101787Z", "completed_at": "2024-07-11T22:48:38.101787Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0040073394775390625, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_credit_card_amount.d3ca593b59", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect credit_card_amount\nfrom \"postgres\".\"public\".\"orders\"\nwhere credit_card_amount is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.102791Z", "completed_at": "2024-07-11T22:48:38.105874Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.106753Z", "completed_at": "2024-07-11T22:48:38.106753Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.003961801528930664, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_customer_id.c5f02694af", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect customer_id\nfrom \"postgres\".\"public\".\"orders\"\nwhere customer_id is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.108787Z", "completed_at": "2024-07-11T22:48:38.111750Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.111750Z", "completed_at": "2024-07-11T22:48:38.111750Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.003962278366088867, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_gift_card_amount.413a0d2d7a", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect gift_card_amount\nfrom \"postgres\".\"public\".\"orders\"\nwhere gift_card_amount is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.113817Z", "completed_at": "2024-07-11T22:48:38.115843Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.116791Z", "completed_at": "2024-07-11T22:48:38.116791Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.003975391387939453, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.not_null_orders_order_id.cf6c17daed", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect order_id\nfrom \"postgres\".\"public\".\"orders\"\nwhere order_id is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.117787Z", "completed_at": "2024-07-11T22:48:38.123800Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.123800Z", "completed_at": "2024-07-11T22:48:38.123800Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.006013154983520508, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.relationships_orders_customer_id__customer_id__ref_customers_.c6ec7f58f2", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select customer_id as from_field\n    from \"postgres\".\"public\".\"orders\"\n    where customer_id is not null\n),\n\nparent as (\n    select customer_id as to_field\n    from \"postgres\".\"public\".\"customers\"\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2024-07-11T22:48:38.125855Z", "completed_at": "2024-07-11T22:48:38.128782Z"}, {"name": "execute", "started_at": "2024-07-11T22:48:38.128782Z", "completed_at": "2024-07-11T22:48:38.128782Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0039865970611572266, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_first_postgres_dbt.unique_orders_order_id.fed79b3a6e", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    order_id as unique_field,\n    count(*) as n_records\n\nfrom \"postgres\".\"public\".\"orders\"\nwhere order_id is not null\ngroup by order_id\nhaving count(*) > 1\n\n\n", "relation_name": null}], "elapsed_time": 0.2244718074798584, "args": {"log_format": "default", "static_parser": true, "log_path": "C:\\projects\\dbt\\dbt-postgress-edney\\logs", "vars": {}, "macro_debugging": false, "favor_state": false, "cache_selected_only": false, "which": "generate", "strict_mode": false, "exclude": [], "populate_cache": true, "printer_width": 80, "log_level_file": "debug", "defer": false, "require_resource_names_without_spaces": false, "enable_legacy_logger": false, "invocation_command": "dbt docs generate", "quiet": false, "show_resource_report": false, "log_level": "info", "partial_parse": true, "select": [], "empty_catalog": false, "version_check": true, "use_colors_file": true, "project_dir": "C:\\projects\\dbt\\dbt-postgress-edney", "use_colors": true, "log_file_max_bytes": 10485760, "compile": true, "require_explicit_package_overrides_for_builtin_materializations": true, "send_anonymous_usage_stats": true, "indirect_selection": "eager", "static": false, "partial_parse_file_diff": true, "warn_error_options": {"include": [], "exclude": []}, "write_json": true, "source_freshness_run_project_hooks": false, "introspect": true, "log_format_file": "debug", "print": true, "profiles_dir": "C:\\projects\\dbt\\dbt-postgress-edney"}}